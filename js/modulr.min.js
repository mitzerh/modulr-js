/**
* modulr-js v0.4.5 | 2015-02-16
* AMD Development
* by Helcon Mabesa
* MIT license http://opensource.org/licenses/MIT
**/
var Modulr=function(a,b){return a.Modulr||b}(window,function(a){function b(a,b){var c=null;return c="function"==typeof a?a.apply(a,b):a}function c(a){var b=a.split("."),c=window[b.shift()],d=!1;if("undefined"!=typeof c&&(d=!0,b.length>1))for(;b.length>0;)if(c=c[b.shift()],"undefined"==typeof c){d=!1;break}return d}function d(a){var b="string"==typeof a?a.replace(/\s+/gi,""):"";return b.length>0&&"require"!==b&&"define"!==b&&"exports"!==b?!0:!1}function e(){var a=window.location,b=a.pathname.split("/");return b.pop(),b=b.join("/")+"/",f()+b}function f(){var a=window.location;return a.protocol+"//"+(a.host||a.hostname)}function g(a,b){return a=l(a),b=j(b),[a,b].join("/")}function h(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function i(a,b,c,d){a.detachEvent&&!y?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function j(a){return a=l(k(a))}function k(a){return"/"===a.charAt(0)?a.slice(1):a}function l(a){return"/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a}function m(a){return a=a||!1,"[object Array]"===Object.prototype.toString.call(a)}function n(){var a=arguments;if("string"==typeof a[0]&&(a[0]=[p.prefix,a[0]].join(" ")),window.console&&window.console.log)try{return console.log.apply(console,a)}catch(b){console.log(a)}}function o(a){throw a=[p.prefix,a].join(" "),new Error(a)}var p={};p.prefix="[Modulr]";var q={},r={},s={},t={},u={},v={},w=!1,x=!1;a(function(){w=!0});var y="undefined"!=typeof opera&&"[object Opera]"===opera.toString()?!0:!1,z=/^(complete|loaded)$/,A=function(j){function p(a){a=D(a);var b=null,c="module",d=I(a);return d?"module"===d.type?b=q[d.context].stack[d.id]:"instance"===d.type&&(b=q[d.context].instance,c="instance"):b=O[a],"module"===c&&(b&&!b.executed&&o("module not yet executed: '"+a+"'"),b=b?"undefined"!=typeof b.factory?b.factory:b.exports:null),b}function B(a){j.baseDomain=j.baseDomain||f(),j.baseUrl=j.baseUrl||e();var b=function(){Q=!0,C(),a()};J(function(){K(function(){b()})})}function C(){if(r[N])for(var a=q[N].instance,b=0;b<r[N].length;b++){var c=r[N][b];a.define(c.ext.id,c.deps,c.factory)}}function D(a){if(j.paths)for(var b in j.paths)a=a.replace(b,j.paths[b]);return a=a.replace(/\/\//g,"/")}function E(a){return O[a]||!1}function F(){return[l(j.baseDomain||f()),k(j.baseUrl||e())].join("/")}function G(a,b){var c=a.split(":"),d=c[0]||!1,e=c[1]||!1;if(d&&e&&q[d]){var f=q[d].instance;q[d].stack[e]?f.execModule(e,function(a){b(a)}):f.require([e],function(){f.execModule(e,function(a){b(a)})})}else n(["Not initialized >> CONTEXT: ",d," | module: ",e].join("")),b(null)}function H(a){return q[a]?q[a].instance:void o("Error getting instance: "+a)}function I(a){var b=a.indexOf(":")>-1?!0:!1,c=a.split(":"),d=c[0]||!1,e=c[1]||!1,f=!1;return b&&("getInstance"===d&&e?f={type:"instance",context:e}:d&&e&&(f={type:"module",context:d,id:e})),f}function J(a){if(j.shim){var b=[];for(var d in j.shim)b.push({id:d,info:j.shim[d]});var e=function(){if(0===b.length)a();else{var d=b.shift(),g=d.id,h=d.info,i=L(h.src),j=h.deps||[],k=function(){R.define(g,j,function(){return window[h.exports.split(".")[0]]}),e()};c(h.exports)?k():v[h.exports]?v[h.exports].push(function(){k()}):(v[h.exports]=[],M(i,g,function(){c(h.exports)?(k(),f(h.exports)):o("shim export not found for: '"+g+"'")}))}},f=function(a){for(var b=v[a]||[];b.length>0;){var c=b.shift();c()}v[a]&&delete v[a]};e()}else a()}function K(a){if(j.packages){var b=[];for(var c in j.packages)b.push({uid:c,src:j.packages[c]});var d=function(a){for(var b=u[a];b.length>0;){var c=b.shift();c()}delete u[a]},e=function(){if(0===b.length)a();else{var c=b.shift(),f=c.uid,g=c.src;q[f]?e():t[g]?(u[g]||(u[g]=[]),u[g].push(function(){e()})):(t[g]=f,M(g,f,function(){e(),u[g]&&d(g)},"instance"))}};e()}else a()}function L(a){var b=a;return b=0===a.indexOf("//")||0===a.indexOf("http")?a:j.baseDomain+("/"!==a.charAt(0)?"/":"")+a}function M(a,b,c,d){var e=!1,f=document.createElement("script"),g=function(a){(!e&&"load"===a.type||z.test((a.currentTarget||a.srcElement).readyState))&&(e=!0,c(b),j())},h=function(){o("error loading script: "+a)},j=function(){i(f,g,"load","onreadystatechange"),i(f,h,"error")};if(b){var k="data-modulr-module";d&&(k="data-modulr-loaded-inst"),f.setAttribute(k,b)}f.setAttribute("data-modulr-context",N);var l=[N||"",b||"",a].join(":");return s[l]?!1:(s[l]=!0,f.type="text/javascript",f.charset="utf-8",f.async=!0,!f.attachEvent||f.attachEvent.toString&&f.attachEvent.toString().indexOf("[native code")<0||y?(f.addEventListener("load",g,!1),f.addEventListener("error",h,!1)):f.attachEvent("onreadystatechange",g),f.src=a,void document.getElementsByTagName("head")[0].appendChild(f))}j=j||{},j.context=j.instance||j.context||"_",j.wait="boolean"==typeof j.wait?j.wait:!0;var N=j.context;if(q[N])return!1;q[N]={instance:this,stack:{}};var O=q[N].stack,P=!1,Q=!1,R=this;R.version="0.4.5",R.getConfig=function(){return j},R.getInstance=function(a){return q[a]?q[a].instance:null},R.getLoadedScripts=function(){var a={};for(var b in s){var c=b.split(":"),d=c[0],e=c[1]||"",f=c[2]||"";d&&f&&(a[d]||(a[d]=[]),a[d].push({id:e,url:f}))}return a},R.define=function(a,b,c){d(a)||o("invalid id: '"+a+"'."),2!==arguments.length||m(b)||(c=b,b=[]),a=D(a);var e=I(a);if(e){if(r[e.context]||(r[e.context]=[]),r[e.context].push({ext:e,deps:b,factory:c}),q[e.context]){var f=q[e.context].instance;f.define(e.id,b,c)}}else O[a]||(b=b||[],O[a]={executed:!1,exports:{},deps:b,factory:c})},R.require=function(c,d){if("string"==typeof c)return p(c);if(m(c)){var e=function(){S.get(null,c,function(a){b(d,a)})},f=function(){P?e():(P=!0,B(function(){e()}))};j.wait?x||w?f():a(function(){f()}):f()}},R.config=function(a){if(a.context||a.instance){var b=new A(a);return delete b.config,delete b.ready,delete b.getInstance,b}P?o("cannot re-configure Modulr"):j=a},R.ready=function(){x=!0},R.execModule=function(a,b){var c=E(a);return"function"!=typeof b?!1:void(c?c.executed?b(S.getModuleFactory(c)):S.execModule(null,null,a,function(a){b(a)}):b(null))};var S=function(){var a=function(){};return a.prototype.get=function(a,b,c){var d,e=this,f=[];b?d=h(b):a&&O[a]&&(d=h(O[a].deps));var g=function(){if(0===d.length)c(f);else{var b=D(d.shift()),h=E(b),i=I(b);if(i)"module"===i.type?G(b,function(a){f.push("undefined"!=typeof a?a:null),g()}):"instance"===i.type&&(f.push(H(i.context)),g());else if("require"===b)f.push(R.require),g();else if("define"===b)f.push(R.define),g();else if("exports"===b)f.push(O[a].exports),g();else if(h)h.executed?(f.push(e.getModuleFactory(h)),g()):e.execModule(null,null,b,function(a){f.push(a),g()});else{var j=e.getModulePath(b);M(j,b,function(){e.execModule("load",j,b,function(a){f.push(a),g()})})}}};g()},a.prototype.execModule=function(a,c,d,e){var f=this,g=E(d);g?g.executed?e(f.getModuleFactory(g)):(f._execQueue||(f._execQueue={}),f._execQueue[d]||(f._execQueue[d]=[]),g.executing?f._execQueue[d].push(e):(g.executing=!0,f._execQueue[d].push(e),f.get(d,g.deps,function(a){g.factory=b(g.factory,a),g.executed=!0,g.executing=!1,f.runCallbackQueue(d,f.getModuleFactory(g))}))):(n("loading external source: "+c),e({id:d,src:c,type:"external-script"}))},a.prototype.runCallbackQueue=function(a,b){for(var c=this,d=c._execQueue[a]||[];d.length>0;){var e=d.shift();e(b)}},a.prototype.getModuleFactory=function(a){return null!==a.factory?a.factory:a.exports},a.prototype.getModulePath=function(a){var b=F(),c=g(b,a)+".js";return c},new a}()};return new A}(function(){var a=function(){function a(a){for(m=1;a=c.shift();)a()}var b,c=[],d=!1,e=document,f=e.documentElement,g=f.doScroll,h="DOMContentLoaded",i="addEventListener",j="onreadystatechange",k="readyState",l=g?/^loaded|^c/:/^loaded|c/,m=l.test(e[k]);return e[i]&&e[i](h,b=function(){e.removeEventListener(h,b,d),a()},d),g&&e.attachEvent(j,b=function(){/^c/.test(e[k])&&(e.detachEvent(j,b),a())}),ready=g?function(a){self!=top?m?a():c.push(a):function(){try{f.doScroll("left")}catch(b){return setTimeout(function(){ready(a)},50)}a()}()}:function(a){m?a():c.push(a)}}();return a}()));