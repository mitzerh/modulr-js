/**
* modulr-js v1.3.0 | 2018-02-17
* A Javascript Psuedo-AMD Browser Dependency Manager
* by Helcon Mabesa
* MIT
**/
var Modulr=function(a,b){return a.Modulr||b}(window,function(){function a(a,b){var c=null;return c="function"==typeof a?a.apply(a,b):a}function b(a){var b=a.split("."),c=window[b.shift()],d=!1;if("undefined"!=typeof c&&(d=!0,b.length>0))for(;b.length>0;)if(c=c[b.shift()],"undefined"==typeof c){d=!1;break}return d}function c(a){var b="string"==typeof a?a.replace(/\s+/gi,""):"";return b.length>0&&"require"!==b&&"define"!==b&&"exports"!==b?!0:!1}function d(a){var b=/[^A-Za-z0-9_\-\.]/g.test(a);return"string"!=typeof a||b?!1:!0}function e(){var a=window.location,b=a.pathname.split("/");return b.pop(),b=b.join("/")+"/",f()+b}function f(){var a=window.location;return a.protocol+"//"+(a.host||a.hostname)}function g(a,b){return a=n(a),b=l(b),[a,b].join("/")}function h(a){var b=a,c=window.location.protocol;return 0!==a.indexOf("http")&&(b=c+(0!==a.indexOf("//")?"//":"")+a),b}function i(a){for(var b=[],c=0;c<a.length;c++)b.push(a[c]);return b}function j(a){for(var b=H,c=null,d=0;d<b.length;d++){var e=b[d];if("object"==typeof e&&e.regex instanceof RegExp&&e.regex.test(a)){c=e;break}}return c}function k(a,b,c,d){a.detachEvent&&!K?d&&a.detachEvent(d,b):a.removeEventListener(c,b,!1)}function l(a){return a=n(m(a))}function m(a){return"/"===a.charAt(0)?a.slice(1):a}function n(a){return"/"===a.charAt(a.length-1)?a.slice(0,a.length-1):a}function o(a){return a=a||!1,"[object Array]"===Object.prototype.toString.call(a)}function p(){var a=Array.prototype.slice.call(arguments);a.unshift(I);try{return window.console.log.apply(window.console,a)}catch(b){window.console.log(a.join(" | "))}}function q(){var a=Array.prototype.slice.call(arguments);throw a.unshift(I),new Error(a.join(" "))}function r(a){var b=this,c=[],d=null;b.then=b.resolve=function(a){return"function"==typeof a&&c.push(a),this},b.reject=function(a){"function"==typeof a&&(d=a)},a(function(){if(c)for(var a=Array.prototype.slice.call(arguments);c.length>0;){var b=c.shift();data=b.apply(b,a)}},function(a){if(d){var b=Array.prototype.slice.call(arguments);d.apply(d,b)}})}function s(a){if(window.addEventListener)window.addEventListener("load",a,!1);else if(window.attachEvent)window.attachEvent("onload",a);else{var b=window.onload;window.onload=function(){b(),a()}}}var t={},u={},v={},w={},x={},y={},z={},A=[],B=[],C={},D=!1,E=[],F=null,G=null,H=[],I="[Modulr]",J=function(){var a=function(){for(D=!0;E.length>0;){var a=E.shift();a()}};F?F(a):a()};s(function(){D||J()});var K="undefined"!=typeof opera&&"[object Opera]"===opera.toString()?!0:!1,L=/^(complete|loaded)$/,M=function(l){function s(a){a=O(a);var b=null,c="module",d=U(a);return d?"module"===d.type?b=t[d.context].stack[d.id]:"instance"===d.type&&(b=t[d.context].instance,c="instance"):b=ba[a],"module"===c&&(b&&!b.executed&&q("module not yet executed:",a),b=b?"undefined"!=typeof b.factory?b.factory:b.exports:null),b}function I(a){l.baseDomain=h(l.baseDomain)||f(),l.baseUrl=l.baseUrl||e();var b=function(){da=!0,a()};W(function(){X(l.packages,function(){b()})})}function N(){if(u[aa])for(var a=t[aa].instance;u[aa].length>0;){var b=u[aa].shift();a.define(b.ext.id,b.deps,b.factory)}}function O(a){if(l.paths)for(var b in l.paths)a=a.replace(b,l.paths[b]);return a=a.replace(/\/\//g,"/").replace(/^\//,"")}function P(a){if(C[a])for(;C[a].length>0;){var b=C[a].shift();b()}}function Q(a){return ba[a]||!1}function R(){return[n(l.baseDomain||f()),m(l.baseUrl||e())].join("/")}function S(a,b){var c=a.split(":"),d=c[0]||!1,e=c[1]||!1;if(d&&e&&t[d]){var f=t[d].instance;t[d].stack[e]?f.execModule(e,function(a){b(a)}):f.require([e],function(){f.execModule(e,function(a){b(a)})})}else p(["Not initialized >> CONTEXT:",d,"| module:",e].join(" ")),b(null)}function T(a){return t[a]?t[a].instance:void q("Error getting instance:",a)}function U(a){var b=a.indexOf(":")>-1?!0:!1,c=a.split(":"),d=c[0]||!1,e=c[1]||!1,f=!1;return b&&("getInstance"===d&&e?f={type:"instance",context:e}:d&&e&&(f={type:"module",context:d,id:e})),f}function V(){if(!l.shim)return!1;var a=[];for(var b in l.shim)a.push({id:b,info:l.shim[b]});for(var c=function(a){var b=a.id,c=a.info,d=(Y(c.src),c.deps||[]);ea.define(b,d,function(){return $(c.exports)})};a.length>0;)c(a.shift())}function W(a){if(l.masterFile){var b=Y(l.masterFile);B.indexOf(b)>-1?a():-1===A.indexOf(b)?(A.push(b),_(b,null,function(){B.push(b),a()})):a()}else a()}function X(a,b){if(a){var c=[],d=function(a){for(var b in a)z[b]||(z[b]=a[b]),c.push({uid:b,src:a[b]})};if(o(a))for(var e=0;e<a.length;e++){var f=a[e];"string"==typeof f&&z[f]?c.push({uid:f,src:z[f]}):"object"!=typeof f||o(f)?q("cannot find package named:",f):d(f)}else d(a);var g=function(a){for(var b=y[a];b.length>0;){var c=b.shift();c()}delete y[a]},h=function(){if(0===c.length)b();else{var a=c.shift(),d=a.uid,e=Y(a.src);t[d]?h():x[e]?(y[e]||(y[e]=[]),y[e].push(function(){h()})):(x[e]=d,_(e,d,function(){h(),y[e]&&g(e)},"instance"))}};h()}else b()}function Y(a){var b=a;return 0!==a.indexOf("http")&&(b=0===a.indexOf("//")?h(a):l.baseDomain+("/"!==a.charAt(0)?"/":"")+a),b}function Z(a){return l.shim&&l.shim[a]?!0:!1}function $(a){return window[a.split(".")[0]]}function _(a,b,c,d,e){e=e||{};var f=!1,g=document.createElement("script"),h=[aa||"",a].join("||"),i=e.noCacheString||null,m=j(a),n=function(){var a=null;return a=m&&m.noStore===!0?!0:i===!0?null:e.noStore}(),o=function(){var a=null;return a=m&&"string"==typeof m.param?m.param:e.queryParam}(),p=function(a){if(!f&&"load"===a.type||L.test((a.currentTarget||a.srcElement).readyState)){for(f=!0;w[h].length>0;){var b=w[h].shift();b()}delete w[h],s()}},r=function(){q("error loading script:",a)},s=function(){k(g,p,"load","onreadystatechange"),k(g,r,"error")};if(b){var t="data-modulr-module";d&&(t="data-modulr-loaded-inst"),g.setAttribute(t,b)}return g.setAttribute("data-modulr-context",aa),v[h]?(w[h].push(function(){c(b)}),!1):(v[h]=!0,w[h]=[function(){c(b)}],g.type="text/javascript",g.charset="utf-8",g.async=!0,!g.attachEvent||g.attachEvent.toString&&g.attachEvent.toString().indexOf("[native code")<0||K?(g.addEventListener("load",p,!1),g.addEventListener("error",r,!1)):g.attachEvent("onreadystatechange",p),g.src=function(a){var b=a;if(m&&n&&o)b=a+(a.indexOf("?")>-1?"&":"?")+(o?o+"=":"")+(new Date).getTime();else if((l&&l.cacheParam||G)&&!i){var c=o?o:"string"==typeof l.cacheParam?l.cacheParam:G?"v":"",d=function(){var a;if(n)a=(new Date).getTime();else if(G)a=G;else{var b=new Date,c=b.getSeconds(),d=[b.getFullYear(),b.getMonth()+1,b.getDate(),b.getHours(),b.getMinutes()].join("");a=d+(30>=c?30:1)}return a}();b=a+(a.indexOf("?")>-1?"&":"?")+(c?c+"=":"")+d}return b}(a),void document.getElementsByTagName("head")[0].appendChild(g))}l=l||{},l.context=l.instance||l.context||"_",l.wait="boolean"==typeof l.wait?l.wait:!0;var aa=l.context;if(d(aa)||q("invalid context:",aa),t[aa])return p("WARNING: attempt to instantiate the same context:",aa,"\n. No configuration changes, returning instance instead.."),t[aa].instance;t[aa]={instance:this,stack:{}};var ba=t[aa].stack,ca=!1,da=!1,ea=this;ea.version="1.3.0",ea.getConfig=function(){return l},ea.getInstance=function(a){return t[a]?t[a].instance:null},ea.setExecuteListener=function(a){F||"function"!=typeof a||(F=a)},ea.getLoadedScripts=function(){var a={};for(var b in v){var c=b.split("||"),d=c[0],e=c[1]||"";d&&e&&(a[d]||(a[d]=[]),a[d].push(e))}return a},ea.define=function(a,b,d){c(a)||q("invalid id:",a),2!==arguments.length||o(b)||(d=b,b=[]),a=O(a);var e=U(a);if(e)if(t[e.context]){var f=t[e.context].instance;f.define(e.id,b,d)}else u[e.context]||(u[e.context]=[]),u[e.context].push({ext:e,deps:b,factory:d});else ba[a]||(b=b||[],ba[a]={executed:!1,exports:{},deps:b,factory:d})},ea.require=function(b,c){return"string"==typeof b?s(b):o(b)?new r(function(d){var e=function(){fa.get(null,b,function(b){"function"==typeof c?a(c,b):d.apply(d,b)})},f=function(){ca?e():(ca=!0,I(function(){e()}))};l.wait?D?f():E.push(f):f()}):void 0},ea.config=function(a){if(a.context||a.instance){for(var b=new M(a),c=["config","getInstance","loadPackageList","setGlobalCacheParam","setGlobalCacheCond","setExecuteListener"],d=0;d<c.length;d++){var e=c[d];b[e]&&delete b[e]}return b.loadPackage=function(a,b){"function"!=typeof b&&q("loadPackage() requires a callback!"),o(a)||"object"!=typeof a?q("cannot load package list."):X(a,b.apply(b,ea.require))},b}return ca?(p('WARNING: Instance "'+a.instance+'" already exists! no configuration changes, returning instance instead..'),ea.getInstance(a.instance)):void(l=a)},ea.execModule=function(a,b){var c=Q(a);return"function"!=typeof b?!1:void(c?c.executed?b(fa.getModuleFactory(c)):fa.execModule(null,null,a,function(a){b(a)}):b(null))},ea.loadPackageList=function(a){if(o(a)||"object"!=typeof a)q("cannot load package list.");else for(var b in a)z[b]||(z[b]=a[b])},ea.setGlobalCacheParam=function(a){("string"==typeof a||"number"==typeof a)&&(G=a)},ea.setGlobalCacheCond=function(a){Array.isArray(a)&&(H=H.concat(a))},ea.getGlobalCacheParam=function(){return G},ea.getPackageListInfo=function(){return{master:A,instances:z}},ea.setReady=function(){J()},N(),V();var fa=function(){var c=function(){var c=this;c.get=function(a,b,d){var e,f=[];b?e=i(b):a&&ba[a]&&(e=i(ba[a].deps));var g=function(){if(0===e.length)d(f);else{var b=O(e.shift()),h=Q(b),i=U(b);if(i)"module"===i.type?S(b,function(a){f.push("undefined"!=typeof a?a:null),g()}):"instance"===i.type&&(f.push(T(i.context)),g());else if("require"===b)f.push(ea.require),g();else if("define"===b)f.push(ea.define),g();else if("exports"===b)f.push(ba[a].exports),g();else if(h&&!Z(b))h.executed?(f.push(c.getModuleFactory(h)),g()):c.execModule(null,null,b,function(a){f.push(a),g()});else if(Z(b)){var j=l.shim[b];c.loadShim(b,j,function(a){f.push(a),g()})}else{var k=c.getModulePath(b);_(k,b,function(){c.execModule("load",k,b,function(a){f.push(a),g()})})}}};g()},c.loadShim=function(a,d,e){var f=Y(d.src),g=Q(a);b(d.exports)?(g.executed=!0,g.factory=$(d.exports),e(g.factory)):C[f]?C[f].push(function(){c.execModule("shim",null,a,function(a){e(a)})}):(C[f]=[function(){c.execModule("shim",null,a,function(a){e(a)})}],_(f,a,function(){b(d.exports)?P(f):q("shim export not found for:",a)},null,{noCacheString:d.noCacheString||null,noStore:d.noStore||null,queryParam:d.queryParam||null}))},c.execModule=function(b,d,e,f){var g=Q(e);g?g.executed?f(c.getModuleFactory(g)):(c._execQueue||(c._execQueue={}),c._execQueue[e]||(c._execQueue[e]=[]),g.executing?c._execQueue[e].push(f):(g.executing=!0,c._execQueue[e].push(f),c.get(e,g.deps,function(b){g.factory=a(g.factory,b),g.executed=!0,g.executing=!1,c.runCallbackQueue(e,c.getModuleFactory(g))}))):(p("loading external source:",d),f({id:e,src:d,type:"external-script"}))},c.runCallbackQueue=function(a,b){for(var d=c._execQueue[a]||[];d.length>0;){var e=d.shift();e(b)}},c.getModuleFactory=function(a){return null!==a.factory?a.factory:a.exports},c.getModulePath=function(a){var b=R(),c=g(b,a)+".js";return c}};return new c}()};return new M}());